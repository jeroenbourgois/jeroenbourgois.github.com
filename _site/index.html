<!doctype html>  
<html>
<head>
  <meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>Jeroen Bourgois &rarr; portolio &amp; blog"</title>
	<meta name="description" content="Jeroen Bourgois &rarr; portolio &diams; blog" />
	<meta name="author" content="Jeroen Bourgois" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="shortcut icon" href="/assets/images/favicon.png" />
	<link rel="apple-touch-icon" href="/assets/images/favicon.png" />
	<link rel="stylesheet" href="/assets/css/style.css" /> 	
  <script type="text/javascript">
    var disqus_shortname = 'jeroenbourgois';
    (function () {
      var s = document.createElement('script'); s.async = true;
      s.src = 'http://disqus.com/forums/jeroenbourgois/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
  </script>
</head>
<body class="default">
  <header>
    <h2><a href="/">Jeroen Bourgois</a></h2>
	  <h3>make/install <a href="http://twitter.com/#!/jeroenbourgois">@jeroenbourgois</a></h3>
    <nav id="menu">
      <ul class="unstyled">
        
        <li><a href="/am-i-crafstman">2012-05-20 ~ Am I a crafstman</a></li>
        
        <li><a href="/pharao--phar-like-a-king">2012-01-27 ~ Pharao, create .phar files like a King</a></li>
        
        <li><a href="/ssd-rocks">2012-01-13 ~ SSD Rocks!</a></li>
        
        <li><a href="/making-the-switch">2011-10-27 ~ Making the switch</a></li>
        
        <li><a href="/vim-and-actionscript">2011-09-30 ~ Vim and Actionscript</a></li>
        
        <li><a href="/behat-and-php-535-homebrew">2011-05-28 ~ Behat and PHP 5.3.5</a></li>
        
        <li><a href="/mongodb-group-by-with-mongoose">2011-04-10 ~ MongoDB group by with Mongoose</a></li>
        
        <li><a href="/rupa-z-save-time-in-terminal">2011-03-30 ~ Rupa "Z" save time in terminal</a></li>
        
        <li><a href="/command-t-macvim-and-rvm">2011-03-02 ~ Command-t, MacVim and RVM</a></li>
        
        <li><a href="/nginx-alongside-apache-on-osx-snow-leopard">2011-02-26 ~ Nginx alongside Apache on OSX</a></li>
        
      </ul>  
    </nav>
	</header>
	<div id="main" role="main">
	  <section id="googlestuff">
  
  <section class="post">
    <h1>Am I a crafstman</h1>
<p>I am on the verge of building our own house. Or to be precise: to let other qualified people build my house. I am not that much of a &#8216;handy-man&#8217; myself, so I put my trust in others to do the job &#8211; thoroughly &#8211; for me. But we (as in &#8216;us&#8217;, the so called <i>unhandy</i>) know that feeling every once in a while, when the tap is dripping, or the closet just doesn&#8217;t close like it should, or that stupid dishwasher just stopped working!</p>
<p>There will be plenty of people disencouraging me to fix it myself, since I&#8217;m not <i>handy</i>. All those years I have been hearing the same, not just for me, but for a lot of my fellow programmers, webdevelopers, nerds &amp; geeks. We are <strong>not handy</strong>. And strangly, I just accepted and <i>even believed</i> that!</p>
<p>OK, truth to be told, I am really not good at masonry, carpentry or another traditional craft. But does that mean I am not a crafstman? Day in day out I make software <strong>by hand</strong>. I manually type in every character to created structures that the computer can understand.  I am a web developer, and I make my sites by hand. I have no tool whith a button that says &#8216;create site&#8217;.</p>
<p>Than is it not a true craft? Websites qualify to be called software, if you think otherwise, try building one with a backend system, authentication, database communication, automated e-mail, a picture gallery and a big (<strong><span class="caps">BIG</span></strong>) client logo. That will just about give you a basic website. Ok, fair enough, I use tools. I use other software that helps me get the job done quicker. But so does a carpenter. He doesn&#8217;t cut a plank in two by hand now does he?</p>
<p>I am a crafstman, and a damned good one. So are all of us geeks and programmers. We create complex things, by hand and a lot of times by heart. We even take it one step further sometimes, working without a manual, with technologies that change faster than McDonald&#8217;s brings out a new burger. So we should start being proud of our crafstmanship! But we aren&#8217;t proud, we just build it and move on to the next one. Cause that&#8217;s how we roll.</p>
  </section>
  
  <section class="post">
    <h1>Pharao, create .phar files like a King</h1>
<p>We have a small internal framework, which uses the <a href="http://framework.zend.com/?src=hpbt">Zend</a> framework amongst other stuff. We chose Zend because it is well documented and widespread, and also feature rich. The basic framework (here I mean <cite>our</cite> framework) only includes some components of the Zend framework, but when we took a look at the amount of single files, we saw they were plenty! <br />
This has it&#8217;s impact on <strong>svn checkouts and commits</strong> &#8211; time wise &#8211; rather than on disk usage.</p>
<p>Besides Zend there was also <a href="http://www.limonade-php.net/">Limonade <span class="caps">PHP</span></a>, which was the basis of our ported version. Both are needed on load, but it would be easier if they could be combined into a single package. That&#8217;s when <code>phar</code> files come into place.</p>
<p>You can see them as a zip/tar/gzip archive that contains all of the library files. Because it was kind of a hassle to generate one, I had to find some bits and pieces on the net, so I thought I&#8217;d collect them into an executable.</p>
<p>You just do:<br />
<code>pharao -s SOURCE_DIR -p PHARNAME.phar</code></p>
<p>And the phar should be generated.</p>
<h2>Credits</h2>
<p>Big credits to <b>Cal Evans and John Douglass</b> for all the code!</p>
<h2>Code</h2>
<p>All is on <a href="https://github.com/jeroenbourgois/pharao">GitHub</a> and ready to be improved!</p>
  </section>
  
  <section class="post">
    <h1><span class="caps">SSD</span> Rocks!</h1>
<p>So to be honest, I am <em>far</em> from a tech savvy computer hardware wiz, but I know one thing: <span class="caps">SSD</span> hard disks rock! To be more clear&#8230;</p>
<p>As a small &#8216;new years gift&#8217; :) the IT department at work gave me a brand new <span class="caps">SSD</span> hard disk, as a test drive before upgrading all systems. Only a few months ago I already had performance improvement when I received a 4 GB <span class="caps">RAM</span> update, breing the total to 8GB. This was particularly useful when running VirtualBox images, as I saw the swap file increasing then. And as we know, swaps are costly.</p>
<p>But frankly, in day to day use, besides the VM&#8217;s, I find the <span class="caps">SSD</span> update much more rewarding. Maybe it&#8217;s a combination of both &#8211; I couldn&#8217;t say since I don&#8217;t have objective benchmarks &#8211; but that <span class="caps">SSD</span> really helped a lot. It even shows in the small things, such as opening Microsoft Word <em>***shiver***</em>. I don&#8217;t do it often, as I don&#8217;t <em>need</em> it to work, but some info just comes as .doc sometimes, as it does as xls.</p>
<p>Before I always sighed &#8216;<cite>pffff another 10-20 seconds wasted</cite>&#8217; What are 10 seconds you say? Well actually, a lot! For just a text document of 100 lines? Hell, I open a 10 000 lines text file in Vim in less than 5 seconds. So having those docs and xls&#8217;s opening in &lt;5 secs is a blessing.</p>
<p>Than we have other more obvious performance boosts:</p>
<ul>
	<li>boot times reduced</li>
	<li>Photoshop is on fire now!</li>
	<li>What, Flash can be fast too ? ( besides the fact those stupid fonts still take too much time )</li>
	<li>Getting file info inside Finder is a breeze</li>
</ul>
<p>Moreover, I have the feeling I am even missing out on the details, those kind of details you only notice if you would go back to the old &#8216;slow&#8217; hdd.</p>
<p>As far as space is concerned, it is still rather limited when you don&#8217;t want to spend â‚¬ 300+, but for me 180GB is sufficient. And if I would run out of space, I can still place my personal music on an external <span class="caps">HDD</span>, it does not need to be fast, and in essence, it&#8217;s not <em>needed</em> for work.</p>
<p>To wrap it up, no benchmarks, but just a gut feeling: <span class="caps">SSD</span> rocks!</p>
<p>I&#8217;m a happy camper :)</p>
  </section>
  
  <section class="post">
    <h2>Making the switch</h2>
<p>After migrating to Posterous a while, I decided to give the Github Pages a try. We will see how this adventure goes.</p>
  </section>
  
  <section class="post">
    <h2>Vim and Actionscript</h2>
<p>Sometimes for small Flash projects, I don&#8217;t want to use the slow hog that is Flash Builder (aka Flex Builder), so I do my scripting, as always, in Vim. But by default there is no syntax file for actionscript. I found an excellent sample script by <a href="http://www.abdulqabiz.com/blog/archives/2007/10/12/vim-actionscript-and-mxml-syntax-files/">Abdul Qabiz</a>, and mirrored it on <a href="https://github.com/jeroenbourgois/vim-actionscript">github</a> for easy of use and consistency. (I load all my bundles through <a href="https://github.com/gmarik/vundle">Vundle</a> and all bundles come from github).</p>
<p>Have fun!</p>
  </section>
  
  <section class="post">
    <h1>Behat and <span class="caps">PHP</span> 5.3.5</h1>
<p>Yesterday, I was trying to install <a href="http://behat.org/">behat</a>, a nice <span class="caps">BDD</span> framework for <span class="caps">PHP</span>. But although following the instructions on their site, I got a &#8220;behat command not found&#8221; error when trying to run it. So the actual executable could not be found. My system was looking in /usr/local/lib, but not finding a symlink to my homebrew folder for behat specifically. So I just created it myself, and it worked perfectlly :). Here is the symlink:</p>
<p><code>ln -s /usr/local/Cellar/php/5.3.5/bin/behat /usr/local/bin/behat</code></p>
<p>Hope I can help someone else who has the same problem!</p>
  </section>
  
  <section class="post">
    <h2>MongoDB group by with Mongoose</h2>
<p>I&#8217;m using <a href="http://mongoosejs.com/">Mongoose</a> lately to connect to a <a href="http://www.mongodb.org/">MongoDB</a>&quot; from a <a href="http://nodejs.org/">node.js</a> app, and along the way I needed an equivalent of the mysql &#8216;<strong>group by</strong>&#8217; syntax. While the MongoDB documentation contained info about how to do a group by, I couldn&#8217;t get it to work with Mongoose. After a bit of trial and error I came up with this:</p>
<script src="https://gist.github.com/912688.js?file=gistfile1.js"></script><p>Hope that helps anyone else on the same quest!</p>
  </section>
  
  <section class="post">
    <h2>Rupa &#8220;Z&#8221; save time in terminal</h2>
<p>Not a big post this time, but a timesaver for the terminal addicts out there. Almost every time (and I do mean almost <strong><em>each and every</em></strong> time) I use the cool <a href="https://github.com/rupa/z">z</a> command in terminal followed by a folder name, I am again amazed and pleased with the result. Simply put, it is a script that allows you to jump to your recent folders (and &#8220;recent&#8221; actually can be long ago) by using part of a path or folder name. It also keeps a ranking for each folder, so if you were working in<br />
<code>/root/some/long/path/to/your/projects/SomeCrazyProjects</code><br />
then you can just hit:<br />
<code>z crazy</code><br />
And you&#8217;ll get there. For more info, just go to <a href="https://github.com/rupa/z">https://github.com/rupa/z</a> and try it out!</p>
  </section>
  
  <section class="post">
    <h2>Command-t, MacVim and <span class="caps">RVM</span></h2>
<p>Yesterday, I really wanted to try out the Vim <a href="https://wincent.com/products/command-t">command-t</a> plugin to open files fast and smart. But you <strong>need</strong> a vim compiled with ruby support, which the default <span class="caps">OSX</span> vim lacks. A good option is to use <a href="http://code.google.com/p/macvim">MacVim</a>, but I ran into a problem, something like:<br />
<br />
<code>command-t.vim could not load the C extension</code><br />
<br />
After some digging, I found that <a href="http://rvm.beginrescueend.com"><span class="caps">RVM</span></a> was causing the problems. As I found on the CommandT forums, CommandT should be build <span class="label warning"><strong>against exactly the same ruby version</strong></span> as MacVim is build against (which is 1.8.7 for MacVim Version 7.3). So here is what I did:<br />
<br />
<script src="https://gist.github.com/851620.js?file=macvim-ruby-rvm.sh"></script>
  </section>
  
  <section class="post">
    <h1>Nginx alongside Apache on <span class="caps">OSX</span></h1>
<p>The other day I wanted to experiment with the superfast nginx server on osx for static files, and to use the built-in apache webserver as power unit to process the dynamic content.</p>
<p>Although not very hard to setup, there are some thing you should bear in mind:</p>
<ul>
	<li>for each server (aka virtualhost) you will add to nginx, you will need to add a virtualhost to apache (at least if the server you were adding will have dynamic content)</li>
	<li>nginx has a good base documentation on it&#8217;s site, but I still think of it as an underdog server. That is, for every article you will find on the web for an nginx problem/issue, there will be 100 to find for apache.</li>
</ul>
<p>Anyhow, let&#8217;s get on with it. Please not that I did not come up with all this myself, I found a lot of information scattered through different tutorials, which will be listed below. All credits to those authors!</p>
<h2>Installation</h2>
<ul>
	<li>install <a href="http://github.com/mxcl/homebrew">homebrew</a> , you&#8217;ll love it!</li>
	<li>install <a href="http://nginx.org/">nginx</a></li>
</ul>
<p><code>brew install nginx</code></p>
<p>Installation done! On to the configuration</p>
<h2>Configuration</h2>
<h3>Nginx</h3>
<p>First, let&#8217;s set up nginx so it uses the somewhat cleaner &#8220;sites-enabled/sites-available&#8221; structure. Some might already seen it on apache2 or somewhere else, and I find it cleaner than putting all your virtual hosts in one (or several) file. This way, for each site you add you create the config file in the sites-available folder, then symlink it in the sites-enabled folder and just have nginx to load all the files in the sites-enabled folder. That way, whenever you temporarly want do disable a virtual host, you can just remove the symlink, and not have to remove the actual config file (you might want to keep it for future reference).</p>
<ul>
	<li>Go to your nginx config folder (when installed with <em>homebrew</em>, that will typically be in <strong><code>/usr/local/etc/nginx/</code></strong></li>
	<li>There create two folders, <strong>sites-enable</strong> and <strong>sites-available</strong>.</li>
</ul>
<script src="https://gist.github.com/845454.js?file=nginx-create-folders"></script><ul>
	<li>open up <code>nginx.conf</code> in your favorite text editor and update it to your likings. My file is listed below, you can play with the settings, but it is important you have the &#8216;<strong>include sites-enabled/</strong>&#8217; line. That will make sure all your servers are loaded.</li>
</ul>
<script src="https://gist.github.com/845457.js?file=gistfile1.cpp"></script><ul>
	<li>go into the sites-available folder and create a server config file</li>
	<li>include the listing below (and change to your needs)</li>
</ul>
<script src="https://gist.github.com/845463.js?file=gistfile1.cpp"></script><ul>
	<li>now create a symlink to the file in the sites-enabled folder</li>
</ul>
<script src="https://gist.github.com/845467.js?file=gistfile1.eclass"></script><ul>
	<li>start nginx</li>
</ul>
<p><code>sudo nginx</code></p>
<ul>
	<li>or to restart:<br />
<code>sudo nginx -s reload</code></li>
</ul>
<h3>Apache</h3>
<ul>
	<li>open httpd.conf, should be in <strong><code>/etc/apache2/httpd.conf</code></strong></li>
	<li>update the port apache listens on to <strong>127.0.0.1:8080</strong> (since nginx will be running on port 80, apache should be on another port), around line</li>
	<li>add your virtualhost (or include and external vhost file and add it there). Note that you could go for the same sites-enabled/sites-available setup here, like I did</li>
	<li>note that your virtualhost should have the <em><strong>same</strong></em> ServerName as the one you used in nginx, and it should listen on <strong>port 8080</strong>!</li>
</ul>
<script src="https://gist.github.com/845471.js?file=nginx-apache-vhost.xml"></script><ul>
	<li>restart apache</li>
</ul>
<script src="https://gist.github.com/846057.js?file=apache-restart"></script><h3>Hosts &amp; Go!</h3>
<p>Now just update your hosts file ( <strong>/etc/hosts</strong> ) to include your newly created server:<br />
<code>127.0.0.1 dropbox.local</code></p>
<p>And point your browser to http://dropbox.local. You should see the directory listing of all your folders, or if you planted a site there, it should run! If you do run into errors, first check out both the nginx and apache error logs in the Console, it might help you.</p>
<h3>Credits</h3>
<p>Big thanks to the following persons for their great articles and posts on forums:</p>
<ul>
	<li><a href="http://forum.nginx.org/read.php?11,69147,69181">http://forum.nginx.org/read.php?11,69147,69181</a></li>
	<li><a href="http://forum.nginx.org/read.php?11,69147,69181">http://brainspl.at/nginx.conf.txt</a></li>
	<li><a href="http://crashingdaily.wordpress.com/2008/09/28/fronting-apache-with-nginx/">http://crashingdaily.wordpress.com/2008/09/28/fronting-apache-with-nginx/</a></li>
</ul>
  </section>
  
</section>
	
	</div>
<script src="/assets/js/zepto.min.js"></script>
  <script>
    $('#showarticles').bind('click', function() {
      if($("#menu").css('display') == "block")
        $("#menu").hide(); 
      else
        $("#menu").show();
    });
  </script>
  <script>
    var _gaq=[['_setAccount','UA-548507-11'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>
  <noscript>Your browser does not support JavaScript!</noscript> 
</body>
</html>

